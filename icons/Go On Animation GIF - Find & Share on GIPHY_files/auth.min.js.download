// JS Version 0.2
function ToastBuilder(b){var a=b||{};return a.defaultText=a.defaultText||"default-text",a.displayTime=a.displayTime||3e3,a.target=a.target||"body",function(b){$("<div/>").addClass("toast").prependTo($(a.target)).text(b||a.defaultText).queue(function(a){$(this).css({opacity:1});var b=35;$(".toast").each(function(){var a=$(this),c=a.outerHeight();a.css("top",b+"px"),b+=c+15}),a()}).delay(a.displayTime).queue(function(b){var a=$(this),c=a.outerWidth()+20;a.css({right:"-"+c+"px",opacity:0}),b()}).delay(600).queue(function(a){$(this).remove(),a()})}}var forgotWidgetId,registerWidgetId,myOptions={displayTime:3e3,target:"body"},showtoast=new ToastBuilder(myOptions),captchaSiteKey="6Lc07QcTAAAAAIce87opBt4orW-lhIrkC0yrQ3Y4",onloadCallback=function(){registerWidgetId=grecaptcha.render("registerCaptcha",{sitekey:captchaSiteKey}),forgotWidgetId=grecaptcha.render("forgotCaptcha",{sitekey:captchaSiteKey})};function attachSignin(a){var b=$("#login").find("form.index-page-form").find("input[name=to]").val();auth2.attachClickHandler(a,{},function(a){var c=a.getAuthResponse().id_token;$.ajax({url:"oauth/google.php",data:{id:c,redirect:b},dataType:"json",success:function(a){a.redirect?window.location.href=a.redirect:a.extra?$("#extra").append(a.extra):console.log(a)}})},function(a){console.log(JSON.stringify(a,void 0,2))})}function valid_username(a){return a.length<1||a.length>50?(alert("UserHandle must be between 1 and 50 characters!"),!1):!a.match(/[\@\=\+\/ <>,"']/)||(alert("UserHandle cannot contain '@ + / =' and space characters"),!1)}function valid_password(a,b){return a.length<8?(alert("Password should contain atleast eight characters"),!1):a.length>15?(alert("Password should not more than fifteen characters"),!1):a==b||(alert("Passwords do not match!"),!1)}$(document).ready(function(){function a(){$("#fPage").slideToggle(),$("#rPage").slideToggle()}function b(){$("#mPage").slideToggle(),$("#fPage").slideToggle()}$(".mtof").click(function(){b(),$("#Forgot input[name=user]").focus()}),$(".ftom").click(function(){b(),$("#Login input[name=user]").focus()}),$(".sat").click(a),$(".index-page-form").submit(function(){return $("#extra").empty(),(this1=$(this)).find("input[type=submit]").attr("disabled",!0),$.ajax({type:"POST",url:"auth.php",data:$(this).serialize(),dataType:"json",success:function(b){if(this1.find("input[type=submit]").attr("disabled",!1),b.redirect){var c;"to"==(c=b.redirect)?window.location.href=to:"reset"==c?(a(),$("#ruser").val($("#fuser").val())):window.location.href=c}else b.extra&&$("#extra").append(b.extra)},error:function(a,b,c){this1.find("input[type=submit]").attr("disabled",!1),console.log("An error occurred")},complete:function(){this1.find("input[type=submit]").attr("disabled",!1),"Forgot"==this1.attr("id")?grecaptcha.reset(forgotWidgetId):grecaptcha.reset(registerWidgetId)}}),!1}),$(".reset-page-form").submit(function(){var a=document.getElementById("newPass").value,b=document.getElementById("confirmPass").value;return valid_password(a,b)&&($("#extra").empty(),$(".reset-page-form").hide(),$("#extra").html("<center style='color:#46b96b;font-weight:bold;'>Updating...</center>"),$.ajax({type:"POST",url:"changePassword.php",data:$(this).serialize(),dataType:"json",success:function(a){$("#extra").html(a.extra),""!=a.redirect&&(window.location.href=a.redirect)},error:function(a,b,c){console.log("Error occurred while requesting for update.")},complete:function(){grecaptcha.reset()}})),!1}),$(".change-password-form").submit(function(){var a=document.getElementById("newPass").value,b=document.getElementById("confirmPass").value;return valid_password(a,b)&&($("#message").empty(),$("#message").show(),$("#message").html("<center style='color:#46b96b;font-weight:bold;'>Updating...</center>"),$.ajax({type:"POST",url:"/ajax/changePasswordAjax.php",data:$(this).serialize(),dataType:"json",success:function(a){$("#message").html(a.extra),""!=a.redirect&&(window.location.href=a.redirect)},error:function(a,b,c){console.log("Error occurred while requesting for update.")},complete:function(){grecaptcha.reset()}})),!1}),$(".change-username-form").submit(function(){return valid_username($("#username").val())&&($("#extra").empty(),$("#extra").show(),$("#extra").html("<center style='color:#46b96b;font-weight:bold;'>Validating...</center>"),$.ajax({type:"POST",url:"/ajax/changeUsernameAjax.php",data:$(this).serialize(),dataType:"json",success:function(a){$("#extra").html(a.extra),""!=a.redirect&&(window.location.href=a.redirect),""!=a.handle_error&&$("#username_error").html(a.handle_error)},error:function(a,b,c){console.log("Error occurred while requesting for update.")},complete:function(){grecaptcha.reset()}})),!1}),$("main").on("scroll",function(b){var a=jQuery(this).scrollTop();a>lastScrollTop&&lastScrollTop>=200?(animateLogo=!0,jQuery(".header-main__logo").addClass("shrink"),jQuery(".header-main__logo img:last-child").attr("aria-hidden",!0),jQuery(".header-main__logo img:first-child").removeClass("normal"),jQuery(".header-main__logo img:first-child").addClass("ready")):lastScrollTop<200&&animateLogo&&(jQuery(".header-main__logo").removeClass("shrink"),jQuery(".header-main__logo img:first-child").removeClass("ready"),jQuery(".header-main__logo img:first-child").addClass("normal"),jQuery(".header-main__logo img:last-child").attr("aria-hidden",!1)),lastScrollTop=a}),$(".userProfileDp").click(function(){$(".mega-dropdown").hasClass("mega-dropdown-selected")?$(".mega-dropdown").removeClass("mega-dropdown-selected"):$(".mega-dropdown").addClass("mega-dropdown-selected")}),$(".course-dropdown-list").click(function(){$(".course-dropdown").hasClass("course-dropdown-selected")?($(".course-dropdown").removeClass("course-dropdown-selected"),$(".header-main__list-item-caret").rotate(0)):($(".course-dropdown").addClass("course-dropdown-selected"),$(".header-main__list-item-caret").rotate(180))}),$(document).mouseup(function(a){var b=$(".course-dropdown"),c=$(".course-dropdown-list");b.is(a.target)||0!==b.has(a.target).length||c.is(a.target)||0!==c.has(a.target).length||($(".course-dropdown").removeClass("course-dropdown-selected"),$(".header-main__list-item-caret").rotate(0));var d=$(".userProfileDp"),e=$(".mega-dropdown");d.is(a.target)||0!==d.has(a.target).length||e.is(a.target)||0!==e.has(a.target).length||$(".mega-dropdown").removeClass("mega-dropdown-selected")}),$(".gcse-search__icon-n").click(function(){1==premiumUser?($(".gcse-search-input__wrapper").addClass("showSearchDiv"),$(".gcse-search-input__wrapper").addClass("showPremiumSearchBar"),$(".header-logo-content").hide(),$("#gcse-form").addClass("showPremiumSearchBar"),$(".header-search-content").addClass("showGoogleSearchBar"),$(".gcse-search__icon-n").removeClass("show-search-icon"),$(".gcse-search__close-n").addClass("showSearchDiv")):($(".gsc-control-cse").addClass("showSearchDiv"),$(".header-logo-content").hide(),$(".header-search-content").addClass("showGoogleSearchBar"),$(".gsc-search-button").hide(),$(".gcse-search__icon-n").removeClass("show-search-icon"),$(".gcse-search__close-n").addClass("showSearchDiv"))}),$(".gcse-search__close-n").click(function(){1==premiumUser?($(".gcse-search-input__wrapper").removeClass("showSearchDiv"),$(".gcse-search-input__wrapper").removeClass(""),$(".header-logo-content").show(),$("#gcse-form").removeClass("showPremiumSearchBar"),$(".header-search-content").removeClass("showGoogleSearchBar"),$(".gcse-search__icon-n").addClass("show-search-icon"),$(".gcse-search__close-n").removeClass("showSearchDiv")):($(".gsc-control-cse").removeClass("showSearchDiv"),$(".header-logo-content").show(),$(".header-search-content").removeClass("showGoogleSearchBar"),$(".gsc-search-button").show(),$(".gcse-search__icon-n").addClass("show-search-icon"),$(".gcse-search__close-n").removeClass("showSearchDiv"))})}),window.fbAsyncInit=function(){FB.init({appId:"1057487550952154",xfbml:!0,version:"v2.12"}),$("#fblogin").click(function(){var a=$("#login").find("form.index-page-form").find("input[name=to]").val();FB.login(function(b){"connected"===b.status&&FB.api("/me",{fields:"email, name"},function(c){$.ajax({type:"POST",url:"oauth/facebook.php",data:{id:b.authResponse.signedRequest,user:c,redirect:a},dataType:"json",success:function(a){a.redirect?window.location.href=a.redirect:a.extra?$("#extra").append(a.extra):console.log(a)}})})},{scope:"public_profile,email"})})},function(a,c,d){var b,e=a.getElementsByTagName(c)[0];a.getElementById(d)||((b=a.createElement(c)).id=d,b.src="//connect.facebook.net/en_US/sdk.js",e.parentNode.insertBefore(b,e))}(document,"script","facebook-jssdk"),jQuery.fn.rotate=function(a){return $(this).css({"-webkit-transform":"rotate("+a+"deg)","-moz-transform":"rotate("+a+"deg)","-ms-transform":"rotate("+a+"deg)",transform:"rotate("+a+"deg)",transition:"all 0.5s ease 0s"}),$(this)},"undefined"!=typeof gapi&&gapi.load("auth2",function(){auth2=gapi.auth2.init({client_id:"388036620207-3uolk1hv6ta7p3r9l6s3bobifh086qe1.apps.googleusercontent.com",cookiepolicy:"single_host_origin"}),attachSignin(document.getElementById("glogin"))})
